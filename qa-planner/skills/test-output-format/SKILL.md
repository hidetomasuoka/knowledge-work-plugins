---
name: test-output-format
description: テスト設計書の出力テンプレートと記述ルール。/create-test コマンドから参照される。
---

# Test Output Format

テスト設計書のテンプレートと記述ルールを定義する。

## テスト設計書テンプレート

```markdown
# テスト設計書

**PR：** {PR タイトル}
**URL：** {PR の URL}
**リポジトリ：** {org/repo}
**作成日：** {YYYY-MM-DD}
**作成者：** Claude

---

## 1. PR 概要

{PR の目的・変更内容を 3〜5 行で要約}

## 2. 変更影響分析

### 変更ファイル一覧

| ファイル | 変更種別 | 変更概要 |
|---------|---------|---------|
| {ファイルパス} | 追加 / 変更 / 削除 | {何を変更したか} |

### 影響リスク判定

**総合リスク：🔴 高 / 🟡 中 / 🟢 低**

{リスク判定の根拠を 2〜3 行で記述}

影響サービス・機能：
- {影響を受けるサービス名・機能名}

## 3. テスト範囲

### ✅ 必須テスト

| # | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|---|-----------|---------|---------|---------|
| 1 | {テスト項目名} | {前提} | {手順} | {期待結果} |

### 🔶 推奨テスト

| # | テスト項目 | 前提条件 | 操作手順 | 期待結果 |
|---|-----------|---------|---------|---------|
| 1 | {テスト項目名} | {前提} | {手順} | {期待結果} |

### ⬜ スキップ可

| 機能・画面 | スキップ理由 |
|-----------|------------|
| {機能名} | {影響なしと判断した根拠} |

## 4. テストデータ

| # | データ種別 | 値・条件 | 用途 |
|---|----------|---------|-----|
| 1 | {ユーザーアカウント等} | {具体的な値や条件} | {どのテストで使用} |

※ 本番データは使用しないこと。個人情報を含むデータは禁止。

## 5. 特記事項・確認が必要な点

- {テスト実施前に確認・準備が必要な事項}
- {テスト環境の制約や注意点}
- {不明点・レビュアーへの質問}
```

## 記述ルール

### テスト項目の粒度

- 1行 = 1つの確認事項（「〇〇できること」形式）
- 操作手順は誰が読んでも再現できる粒度で書く
- 期待結果は定量的・具体的に書く（「正常に動作する」は NG）

### 優先度の判断基準

- **✅ 必須**：この PR の変更に直接関係する機能。リリース前に必ず確認。
- **🔶 推奨**：波及リスクがある既存機能。余裕があれば確認。コア機能は必須に格上げ。
- **⬜ スキップ可**：今回の変更との接点がなく、影響ゼロと判断できる機能。

### リスク判定の根拠記述

必ず判断根拠を残す。例：
- 「認証ミドルウェアを変更しているため、全エンドポイントに影響する可能性あり → 🔴 高」
- 「UI のスタイル変更のみで、ロジックに変更なし → 🟢 低」

### テストデータの記述

- 実際のデータ値（ID、名前など）は記述しない
- 「管理者権限のアカウント」「残高が0のアカウント」のように条件で表現する
- データのリセット手順が必要な場合は特記事項に記載
